function Analyzer(e){this._browsers=e;this._documentTags=[]}function BrowserInfo(e,t){this._name=e;this._version=t}function TagSupportInfo(e,t){this._tag=e;this._browsersInfo=t}function Browser(e,t){this._name=e;this._versions=t}function VersionTags(e,t){this._identifier=e;this._tags=[];for(var n=0;n<t.length;n++){this._tags.push(t[n].toLowerCase())}}Analyzer.prototype.collectDocumentTags=function(e){e=typeof e!=="undefined"?e:document.getElementsByTagName("body")[0];if(e.tagName!==undefined&&this._documentTags.indexOf(e.tagName.toLowerCase())===-1){this._documentTags.push(e.tagName.toLowerCase())}var t=e.children;if(t.length>0){for(var n=0;n<t.length;n++){this.collectDocumentTags(t[n])}}};Analyzer.prototype.getDocumentTags=function(){if(this._documentTags.length===0){this.collectDocumentTags()}return this._documentTags};Analyzer.prototype.getBrowserSupportInfo=function(){var e=this.getDocumentTags();var t=[];for(var n=0;n<this._browsers.length;n++){var r=this._browsers[n]._name;var i=this._browsers[n].getLowestSupportedVersionForKnownTags(e);t.push(new BrowserInfo(r,i))}return t};Analyzer.prototype.getBrowserSupportInfoForEachTag=function(){var e=this.getDocumentTags();var t=[];for(var n=0;n<e.length;n++){var r=new TagSupportInfo(e[n],[]);for(var i=0;i<this._browsers.length;i++){var s=this._browsers[i]._name;var o=this._browsers[i].whenSupportAddedFor(e[n]);if(o!==""){r._browsersInfo.push(new BrowserInfo(s,o))}}t.push(r)}return t};Browser.prototype.getVersionsIdentifiers=function(){var e=[];for(var t=0;t<this._versions.length;t++){e.push(this._versions[t]._identifier)}return e};Browser.prototype.getTags=function(){var e=[];for(var t=0;t<this._versions.length;t++){var n=this._versions[t]._tags;for(var r=0;r<n.length;r++){if(e.indexOf(n[r]===-1)){e.push(n[r])}}}return e};Browser.prototype.isTagSupported=function(e){var t=this.getTags();return t.indexOf(e.toLowerCase())!==-1};Browser.prototype.whenSupportAddedFor=function(e){var t="";for(var n=0;n<this._versions.length;n++){if(this._versions[n].isSupportFromThisVersion(e.toLowerCase())){t=this._versions[n]._identifier;break}}return t};Browser.prototype.getLowestSupportedVersionForAllTags=function(e){var t=this.getVersionsIdentifiers();var n=0;for(var r=0;r<e.length;r++){var i=this.whenSupportAddedFor(e[r].toLowerCase());var s=t.indexOf(i);if(s!==-1||s>n){n=s}if(s===-1){return t[t.length-1]}}return t[n]};Browser.prototype.getLowestSupportedVersionForKnownTags=function(e){var t=this.getVersionsIdentifiers();var n=0;for(var r=0;r<e.length;r++){var i=e[r].toLowerCase();if(this.isTagSupported(i)){var s=this.whenSupportAddedFor(i);var o=t.indexOf(s);if(o>n){n=o}}}return t[n]};VersionTags.prototype.isSupportFromThisVersion=function(e){return this._tags.indexOf(e.toLowerCase())!==-1};(function(){var e=new VersionTags("8.0.1",["script","div"]);var t=new VersionTags("9.2.2.",["div","VidEO","canvas"]);var n=new VersionTags("10.1.0.1",["canvas"]);var r=new Browser("internet explorer",[e,t,n]);var i=new VersionTags("6.0.1",["script","audio","div"]);var s=new VersionTags("12.2.2.",["div","VidEO","canvas"]);var o=new VersionTags("10.1.0.1",["canvas"]);var u=new Browser("Chrome",[i,s,o]);console.log(r._name);console.log(t.isSupportFromThisVersion("auDIO"));console.log(r.getVersionsIdentifiers());console.log(r.getTags());console.log(r.whenSupportAddedFor("canvas"));var a=new Analyzer([r,u]);a.collectDocumentTags();var f=a.getDocumentTags();console.log("your website can work in lowest version of IE (all tags):"+r.getLowestSupportedVersionForAllTags(f));console.log("your website can work in lowest version of IE (known tags only):"+r.getLowestSupportedVersionForKnownTags(f));for(var l=0;l<f.length;l++){console.log(f[l])}var c=a.getBrowserSupportInfo();for(var h=0;h<c.length;h++){console.log(c[h]._name+" "+c[h]._version)}var p=a.getBrowserSupportInfoForEachTag();for(var d=0;d<p.length;d++){var v="|";for(var m=0;m<p[d]._browsersInfo.length;m++){v+=p[d]._browsersInfo[m]._name+" "+p[d]._browsersInfo[m]._version+"|"}console.log(p[d]._tag+": "+v)}})()